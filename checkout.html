<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout | Justo Jewelry</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    /* Base Styles */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: #111;
      color: #e0e0e0;
      line-height: 1.5;
      min-height: 100vh;
    }
    
    /* Container */
    .checkout-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    
    /* Header */
    .checkout-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 20px;
      border-bottom: 1px solid #333;
      margin-bottom: 40px;
    }
    
    .logo {
      font-size: 24px;
      font-weight: bold;
      text-decoration: none;
      color: #e0e0e0;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .checkout-steps {
      display: flex;
      align-items: center;
    }
    
    .step {
      color: #666;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .step.active {
      color: #e0e0e0;
      font-weight: bold;
    }
    
    .step-divider {
      margin: 0 10px;
      color: #666;
    }
    
    /* Main content */
    .checkout-main {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
    }
    
    /* Form container */
    .checkout-form-container {
      flex: 1;
      min-width: 320px;
    }
    
    /* Sidebar */
    .checkout-sidebar {
      width: 350px;
      background-color: #181818;
      padding: 20px;
      border-radius: 4px;
      align-self: flex-start; /* Don't stretch */
    }
    
    /* Headings */
    h1 {
      font-size: 24px;
      margin-bottom: 20px;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    
    h2 {
      font-size: 18px;
      margin: 30px 0 20px;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    
    /* Form elements */
    .form-section {
      margin-bottom: 20px;
      width: 100%;
    }
    
    .form-row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      color: #999;
    }
    
    input, select {
      width: 100%;
      padding: 12px;
      background-color: #222;
      border: 1px solid #333;
      border-radius: 4px;
      font-size: 14px;
      color: #e0e0e0;
      transition: border-color 0.2s ease;
    }
    
    input:focus, select:focus {
      outline: none;
      border-color: #666;
    }
    
    /* Checkbox */
    .checkbox-container {
      display: flex;
      align-items: flex-start;
    }
    
    .checkbox-container input {
      width: auto;
      margin: 3px 10px 0 0;
    }
    
    .checkbox-container label {
      margin-bottom: 0;
    }
    
    /* Form actions */
    .form-actions {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 30px;
    }
    
    .return-link {
      color: #999;
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s ease;
    }
    
    .return-link:hover {
      color: #e0e0e0;
    }
    
    .submit-button {
      background-color: #e0e0e0;
      color: #111;
      border: none;
      padding: 15px 25px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 14px;
      transition: background-color 0.2s ease;
    }
    
    .submit-button:hover {
      background-color: #fff;
    }
    
    /* Order summary */
    .order-summary h2 {
      margin-top: 0;
    }
    
    .order-items {
      margin-bottom: 20px;
    }
    
    .order-item {
      display: flex;
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #333;
    }
    
    .order-item:last-child {
      border-bottom: none;
    }
    
    .order-item-image {
      width: 60px;
      height: 60px;
      margin-right: 15px;
      position: relative;
      border-radius: 4px;
      overflow: hidden;
      background-color: #222;
    }
    
    .order-item-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .order-item-quantity {
      position: absolute;
      top: -8px;
      right: -8px;
      background-color: #555;
      color: #e0e0e0;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 12px;
      font-weight: bold;
    }
    
    .order-item-details {
      flex: 1;
    }
    
    .order-item-title {
      font-weight: bold;
      margin-bottom: 3px;
      font-size: 14px;
    }
    
    .order-item-variant {
      color: #999;
      font-size: 12px;
      margin-bottom: 8px;
    }
    
    .order-item-price {
      font-weight: bold;
      font-size: 14px;
    }
    
    /* Order totals */
    .order-totals {
      margin-bottom: 20px;
      padding-bottom: 20px;
      border-bottom: 1px solid #333;
    }
    
    .line-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-size: 14px;
    }
    
    .amount {
      font-weight: bold;
    }
    
    .order-total {
      display: flex;
      justify-content: space-between;
      padding-top: 10px;
      font-weight: bold;
      font-size: 18px;
    }
    
    .payment-options {
      margin-top: 20px;
    }
    
    .place-order-btn {
      width: 100%;
      padding: 15px;
      background-color: #e0e0e0;
      color: #111;
      border: none;
      border-radius: 4px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: background-color 0.2s ease;
      margin-bottom: 10px;
    }
    
    .place-order-btn:hover {
      background-color: #fff;
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
      .checkout-main {
        flex-direction: column;
      }
      
      .checkout-sidebar {
        width: 100%;
        order: -1; /* Show at top on mobile */
        margin-bottom: 30px;
      }
      
      .form-row {
        flex-direction: column;
        gap: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="checkout-container">
    <div class="checkout-header">
      <a href="index.html" class="logo">Justo Jewelry</a>
      <div class="checkout-steps">
        <span class="step active">Information</span>
        <span class="step-divider">›</span>
        <span class="step">Complete</span>
      </div>
    </div>
    
    <div class="checkout-main">
      <div class="checkout-form-container">
        <h1>Contact Information</h1>
        
        <form id="checkout-form">
          <div class="form-section">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>
          </div>
          
          <div class="form-section">
            <div class="checkbox-container">
              <input type="checkbox" id="newsletter" name="newsletter">
              <label for="newsletter">Email me with news and offers</label>
            </div>
          </div>
          
          <h2>Shipping Address</h2>
          
          <div class="form-row">
            <div class="form-section">
              <label for="firstName">First name</label>
              <input type="text" id="firstName" name="firstName" required>
            </div>
            <div class="form-section">
              <label for="lastName">Last name</label>
              <input type="text" id="lastName" name="lastName" required>
            </div>
          </div>
          
          <div class="form-section">
            <label for="address">Address</label>
            <input type="text" id="address" name="address" required>
          </div>
          
          <div class="form-section">
            <label for="apartment">Apartment, suite, etc. (optional)</label>
            <input type="text" id="apartment" name="apartment">
          </div>
          
          <div class="form-row">
            <div class="form-section">
              <label for="city">City</label>
              <input type="text" id="city" name="city" required>
            </div>
            <div class="form-section">
              <label for="state">State</label>
              <select id="state" name="state" required>
                <option value="" disabled selected>Select state</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <!-- Add all states -->
              </select>
            </div>
            <div class="form-section">
              <label for="zip">ZIP code</label>
              <input type="text" id="zip" name="zip" required>
            </div>
          </div>
          
          <div class="form-section">
            <label for="phone">Phone</label>
            <input type="tel" id="phone" name="phone" required>
          </div>
          
          <div class="form-actions">
            <a href="javascript:history.back()" class="return-link">← Return to cart</a>
          </div>
        </form>
      </div>
      
      <div class="checkout-sidebar">
        <div class="order-summary">
          <h2>Order Summary</h2>
          <div class="order-items" id="order-items">
            <!-- Order items will be dynamically inserted -->
          </div>
          
          <div class="order-totals">
            <div class="line-item">
              <span>Subtotal</span>
              <span class="amount" id="subtotal-amount">$0.00</span>
            </div>
            <div class="line-item">
              <span>Shipping</span>
              <span>Free shipping (US & Mexico)</span>
            </div>
          </div>
          
          <div class="order-total">
            <span>Total</span>
            <span class="total-amount" id="total-amount">$0.00</span>
          </div>
          
          <div class="payment-options">
            <button class="place-order-btn">Place Order</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Load cart from localStorage
      let cart = [];
      try {
        const savedCart = localStorage.getItem('justo_cart');
        if (savedCart) {
          cart = JSON.parse(savedCart);
        }
      } catch (e) {
        console.error('Error loading cart:', e);
      }
      
      // Render order summary
      renderOrderSummary(cart);
      
      // Handle form submission
      const checkoutForm = document.getElementById('checkout-form');
      if (checkoutForm) {
        checkoutForm.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // For demo purposes, just show alert and redirect
          alert('Order submitted successfully! This is a demo - no actual order was placed.');
          
          // Clear cart
          localStorage.removeItem('justo_cart');
          
          // Redirect to index
          window.location.href = 'index.html';
        });
      }
      
      // Place order button functionality
      const placeOrderBtn = document.querySelector('.place-order-btn');
      if (placeOrderBtn) {
        placeOrderBtn.addEventListener('click', function() {
          checkoutForm.dispatchEvent(new Event('submit'));
        });
      }
    });
    
    function renderOrderSummary(cart) {
      const orderItemsContainer = document.getElementById('order-items');
      const subtotalElement = document.getElementById('subtotal-amount');
      const totalElement = document.getElementById('total-amount');
      
      // Clear current items
      if (orderItemsContainer) {
        orderItemsContainer.innerHTML = '';
      }
      
      // Check if cart is empty
      if (!cart || cart.length === 0) {
        if (orderItemsContainer) {
          orderItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
        }
        
        if (subtotalElement) subtotalElement.textContent = '$0.00';
        if (totalElement) totalElement.textContent = '$0.00';
        return;
      }
      
      // Calculate subtotal and render items
      let subtotal = 0;
      
      cart.forEach(item => {
        // Extract price value
        const priceValue = parseFloat(item.price.replace(/[^0-9.]/g, ''));
        const itemTotal = priceValue * item.quantity;
        subtotal += itemTotal;
        
        // Create and append item element
        const itemElement = createOrderItemElement(item, itemTotal);
        if (orderItemsContainer) {
          orderItemsContainer.appendChild(itemElement);
        }
      });
      
      // Update totals
      if (subtotalElement) subtotalElement.textContent = `$${subtotal.toFixed(2)}`;
      if (totalElement) totalElement.textContent = `$${subtotal.toFixed(2)}`;
    }
    
    function createOrderItemElement(item, itemTotal) {
      const itemElement = document.createElement('div');
      itemElement.className = 'order-item';
      
      // Format options
      const optionsText = Object.entries(item.options)
        .map(([key, value]) => `${key}: ${value}`)
        .join(', ');
      
      itemElement.innerHTML = `
        <div class="order-item-image">
          <img src="${item.image}" alt="${item.title}">
          <div class="order-item-quantity">${item.quantity}</div>
        </div>
        <div class="order-item-details">
          <div class="order-item-title">${item.title}</div>
          ${optionsText ? `<div class="order-item-variant">${optionsText}</div>` : ''}
          <div class="order-item-price">$${itemTotal.toFixed(2)}</div>
        </div>
      `;
      
      return itemElement;
    }
  </script>
</body>
</html>
