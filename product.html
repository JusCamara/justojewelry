<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Page</title>
  <!-- Preload critical assets -->
  <link rel="preload" href="images/optimized/DSC05292_large.jpg" as="image">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <!-- Override styles for product page -->
  <style>
    body {
      overflow: auto !important; /* Enable scrolling */
      height: auto !important;
      display: block !important; /* Replace flex display */
    }
    .dark-bg {
      overflow: auto !important;
      height: auto !important;
      min-height: 100vh;
      display: block !important;
    }
    .product-main {
      margin-top: 80px; /* Add space below the header */
      padding-bottom: 50px; /* Add space above footer */
    }

    /* Related Products Carousel Styles */
    .related-products {
      max-width: 900px;
      margin: 3rem auto;
      padding: 0 1rem;
    }
    
    .related-products h3 {
      text-align: center;
      margin-bottom: 2rem;
      color: #e0e0e0;
      font-size: 1.5rem;
      letter-spacing: 0.1em;
    }
    
    .related-carousel {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
    }
    
    .related-carousel .carousel-images {
      position: relative;
      width: 100%;
      max-width: 800px;
      height: 400px;
      overflow: hidden;
      background: #222;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    
    .related-product-slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.4s ease;
      padding: 2rem;
    }
    
    .related-product-slide.active {
      opacity: 1;
      z-index: 1;
    }
    
    .related-product-slide img {
      max-width: 100%;
      max-height: 60%;
      object-fit: contain;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    
    .related-product-info {
      text-align: center;
      color: #e0e0e0;
    }
    
    .related-product-info h4 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    
    .view-product-btn {
      display: inline-block;
      background: #444;
      color: white;
      padding: 0.5rem 1.5rem;
      border-radius: 4px;
      margin-top: 1rem;
      text-decoration: none;
      transition: background 0.3s ease;
    }
    
    .view-product-btn:hover {
      background: #666;
    }
    
    .related-indicators {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 1rem;
    }
    
    .indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: #444;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .indicator.active {
      background: #e0e0e0;
    }
    
    .related-carousel .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      z-index: 2;
      background: rgba(50, 50, 50, 0.7);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .related-carousel .carousel-btn.prev {
      left: 10px;
    }
    
    .related-carousel .carousel-btn.next {
      right: 10px;
    }
    
    .related-carousel .carousel-btn:hover {
      background: rgba(80, 80, 80, 0.9);
    }
    
    @media (max-width: 768px) {
      .related-carousel .carousel-images {
        height: 350px;
      }
      
      .related-product-slide {
        padding: 1rem;
      }
      
      .related-product-info h4 {
        font-size: 1.2rem;
      }
    }
    
    /* NEW COLLECTION CAROUSEL STYLES */
    /* Main container styles */
    .collection-carousel-section {
      width: 100%;
      padding: 5rem 0;
      background-color: #181818;
      overflow: hidden;
    }
    
    .collection-carousel-section h3 {
      text-align: center;
      color: #e0e0e0;
      font-size: 1.8rem;
      letter-spacing: 0.2em;
      margin-bottom: 3rem;
      font-weight: 700;
    }
    
    /* Carousel container */
    .collection-carousel {
      position: relative;
      width: 100%;
      display: flex;
      align-items: center;
      padding: 0 2rem;
      box-sizing: border-box;
    }
    
    /* Carousel track container */
    .collection-track-container {
      width: 100%;
      overflow: hidden;
      padding: 2rem 0;
    }
    
    /* Carousel track - holds all slides */
    .collection-track {
      display: flex;
      transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1);
      will-change: transform;
    }
    
    /* Individual slide styles */
    .collection-slide {
      min-width: calc(100% / 1.5); /* Shows 1.5 slides on screen */
      padding: 0 1.5rem;
      box-sizing: border-box;
      transition: opacity 0.3s ease;
    }
    
    /* Card container within each slide */
    .collection-card {
      background: #232323;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4);
      height: 100%;
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .collection-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
    }
    
    /* Image container within card */
    .collection-image {
      width: 100%;
      height: 350px;
      overflow: hidden;
      position: relative;
    }
    
    .collection-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    
    .collection-card:hover .collection-image img {
      transform: scale(1.05);
    }
    
    /* Content area within card */
    .collection-content {
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      flex-grow: 1;
    }
    
    .collection-content h4 {
      font-size: 1.8rem;
      color: #fff;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    
    .collection-content .product-price {
      color: #bdbdbd;
      font-size: 1.3rem;
      margin-bottom: 1.5rem;
    }
    
    /* Product options styling */
    .collection-options {
      margin-bottom: 1.5rem;
      flex-grow: 1;
    }
    
    .option-row {
      display: flex;
      margin-bottom: 0.8rem;
      font-size: 0.9rem;
      color: #a0a0a0;
    }
    
    .option-label {
      width: 70px;
      font-weight: 600;
      color: #b0b0b0;
    }
    
    .option-value {
      flex: 1;
    }
    
    /* View details button */
    .collection-btn {
      display: inline-block;
      background: #444;
      color: white;
      padding: 0.8rem 1.5rem;
      border-radius: 6px;
      text-decoration: none;
      text-align: center;
      font-weight: 600;
      letter-spacing: 0.08em;
      transition: background-color 0.3s ease, transform 0.2s ease;
      align-self: center;
      margin-top: auto;
    }
    
    .collection-btn:hover {
      background: #666;
      transform: translateY(-2px);
    }
    
    .collection-btn:active {
      transform: translateY(0);
    }
    
    /* Navigation buttons */
    .collection-nav {
      background: rgba(40, 40, 40, 0.8);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      border: none;
      outline: none;
      cursor: pointer;
      font-size: 1.5rem;
      position: absolute;
      z-index: 10;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    
    .collection-nav:hover {
      background: rgba(60, 60, 60, 0.9);
      transform: scale(1.05);
    }
    
    .collection-nav:active {
      transform: scale(1);
    }
    
    .collection-nav.prev {
      left: 2rem;
    }
    
    .collection-nav.next {
      right: 2rem;
    }
    
    /* Pagination indicators */
    .collection-pagination {
      display: flex;
      justify-content: center;
      gap: 0.8rem;
      margin-top: 2rem;
    }
    
    .pagination-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #444;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    
    .pagination-dot.active {
      background: #e0e0e0;
      transform: scale(1.2);
    }
    
    .pagination-dot:hover {
      background: #666;
    }
    
    /* Responsive styles */
    @media (max-width: 1200px) {
      .collection-slide {
        min-width: calc(100% / 1.2); /* Show fewer slides on medium screens */
      }
      
      .collection-nav {
        width: 50px;
        height: 50px;
      }
    }
    
    @media (max-width: 992px) {
      .collection-slide {
        min-width: 80%; /* Show one slide plus small portion of next/prev */
      }
    }
    
    @media (max-width: 768px) {
      .collection-carousel-section {
        padding: 3rem 0;
      }
      
      .collection-carousel-section h3 {
        font-size: 1.5rem;
        margin-bottom: 2rem;
      }
      
      .collection-slide {
        min-width: 90%; /* Almost full width on mobile */
        padding: 0 1rem;
      }
      
      .collection-content h4 {
        font-size: 1.5rem;
      }
      
      .collection-image {
        height: 250px;
      }
      
      .collection-nav {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }
      
      .collection-nav.prev {
        left: 1rem;
      }
      
      .collection-nav.next {
        right: 1rem;
      }
    }
    
    @media (max-width: 480px) {
      .collection-slide {
        min-width: 100%; /* Full width on small mobile */
        padding: 0 0.5rem;
      }
      
      .collection-content {
        padding: 1rem;
      }
      
      .collection-image {
        height: 200px;
      }
      
      .option-row {
        font-size: 0.8rem;
      }
    }

    /* CART BUTTON STYLES */
    .cart-button {
      position: absolute;
      top: 30px;
      right: 30px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 6px;
      z-index: 1003;
    }

    .cart-icon {
      width: 24px;
      height: 24px;
      fill: none;
      stroke: #e0e0e0;
      stroke-width: 1.5;
    }

    .cart-count {
      position: absolute;
      top: -6px;
      right: -6px;
      background-color: #e0e0e0;
      color: #111;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    /* CART WIDGET STYLES */
    .cart-widget {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      z-index: 10000;
      display: none;
      width: 100%; /* Ensure full width container */
    }

    .cart-widget.is-visible {
      display: block;
    }

    .cart-overlay {
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.6);
      z-index: -1;
    }

    .cart-drawer {
      position: absolute;
      top: 0;
      right: 0;
      width: 380px;
      max-width: 100%; /* Ensure it never exceeds viewport width */
      height: 100%;
      background-color: #111;
      display: flex;
      flex-direction: column;
      box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
      transform: translateX(100%);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow-y: hidden; /* Prevent scrolling of the drawer itself */
    }

    .cart-widget.is-visible .cart-drawer {
      transform: translateX(0);
    }

    .cart-header {
      padding: 20px;
      border-bottom: 1px solid #333;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .cart-header h2 {
      margin: 0;
      font-size: 16px;
      text-transform: uppercase;
      color: #e0e0e0;
      letter-spacing: 1px;
    }

    .cart-close-btn {
      background: transparent;
      border: none;
      color: #e0e0e0;
      font-size: 24px;
      cursor: pointer;
      padding: 0;
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .cart-body {
      flex: 1;
      overflow-y: auto;
      padding: 0;
      -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
    }

    .cart-body::-webkit-scrollbar {
      width: 6px;
    }

    .cart-body::-webkit-scrollbar-track {
      background: #222;
    }

    .cart-body::-webkit-scrollbar-thumb {
      background: #444;
      border-radius: 3px;
    }

    .shipping-progress {
      margin: 0;
      padding: 20px;
      border-bottom: 1px solid #333;
    }

    .shipping-progress p {
      margin: 0 0 8px 0;
      font-size: 14px;
      color: #e0e0e0;
    }

    .progress-bar {
      height: 4px;
      background-color: #333;
      margin-top: 10px;
      border-radius: 2px;
      overflow: hidden;
    }

    .progress {
      height: 100%;
      background-color: #e0e0e0;
      transition: width 0.3s ease;
    }

    .cart-items {
      padding: 0 20px;
    }

    .cart-item {
      display: flex;
      padding: 20px 0;
      border-bottom: 1px solid #333;
    }

    .cart-item__image {
      width: 80px;
      height: 80px;
      margin-right: 15px;
      border-radius: 4px;
      overflow: hidden;
      background: #222;
    }

    .cart-item__image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .cart-item__details {
      flex: 1;
    }

    .cart-item__title {
      margin: 0 0 5px 0;
      font-size: 14px;
      color: #e0e0e0;
    }

    .cart-item__variant {
      color: #999;
      font-size: 12px;
      margin: 0 0 10px 0;
    }

    .cart-item__price-quantity {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .quantity-selector {
      display: flex;
      align-items: center;
      border: 1px solid #444;
      border-radius: 3px;
    }

    .quantity-btn {
      background: transparent;
      border: none;
      color: #e0e0e0;
      width: 30px;
      height: 30px;
      cursor: pointer;
      font-size: 16px;
    }

    .quantity-input {
      width: 30px;
      text-align: center;
      border: none;
      background: transparent;
      color: #e0e0e0;
      font-size: 14px;
    }

    .cart-item__price {
      color: #e0e0e0;
      font-weight: bold;
    }

    .cart-item__remove {
      background: transparent;
      border: none;
      padding: 5px;
      margin-left: 10px;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.2s ease;
    }

    .cart-item__remove:hover {
      opacity: 1;
    }

    .cart-empty {
      text-align: center;
      padding: 60px 20px;
    }

    .cart-empty p {
      color: #e0e0e0;
      margin: 0 0 20px;
    }

    .shop-now-btn {
      display: inline-block;
      padding: 12px 25px;
      background-color: #e0e0e0;
      color: #111;
      text-decoration: none;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 1px;
      font-size: 14px;
      border-radius: 3px;
      transition: background-color 0.2s ease;
    }

    .shop-now-btn:hover {
      background-color: #fff;
    }

    .cart-footer {
      padding: 20px;
      border-top: 1px solid #333;
      background-color: #111;
    }

    .cart-subtotal {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-weight: bold;
      color: #e0e0e0;
    }

    .cart-disclaimer {
      color: #999;
      font-size: 12px;
      margin-bottom: 15px;
    }

    .checkout-button {
      display: block;
      width: 100%;
      padding: 15px;
      background-color: #e0e0e0;
      color: #111;
      text-align: center;
      text-decoration: none;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 1px;
      margin-bottom: 10px;
      border-radius: 3px;
      transition: background-color 0.2s ease;
      border: none;
      cursor: pointer;
    }

    .checkout-button:hover {
      background-color: #fff;
    }

    .continue-shopping {
      display: block;
      width: 100%;
      padding: 13px;
      background-color: transparent;
      color: #e0e0e0;
      text-align: center;
      text-decoration: none;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 1px;
      border: 1px solid #444;
      cursor: pointer;
      border-radius: 3px;
      transition: border-color 0.2s ease;
    }

    .continue-shopping:hover {
      border-color: #e0e0e0;
    }

    /* Recommended products section */
    .cart-recommendations {
      padding: 20px;
      border-top: 1px solid #333;
    }

    .cart-recommendations h3 {
      font-size: 14px;
      color: #e0e0e0;
      margin: 0 0 15px 0;
      text-align: center;
    }

    .recommendation-items {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .recommendation-item {
      background: #222;
      border-radius: 4px;
      overflow: hidden;
    }

    .recommendation-item__image {
      height: 120px;
      overflow: hidden;
    }

    .recommendation-item__image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .recommendation-item__info {
      padding: 10px;
    }

    .recommendation-item__title {
      font-size: 12px;
      color: #e0e0e0;
      margin: 0 0 5px 0;
    }

    .recommendation-item__price {
      font-size: 12px;
      color: #999;
    }

    .view-button {
      display: block;
      width: 100%;
      padding: 8px 0;
      margin-top: 8px;
      text-align: center;
      background: #333;
      color: #e0e0e0;
      border-radius: 3px;
      text-decoration: none;
      font-size: 11px;
      text-transform: uppercase;
      transition: background-color 0.2s ease;
    }

    .view-button:hover {
      background: #444;
    }

    /* Additional styles for the logo link */
    .logo {
      color: #e0e0e0; /* Keep text white */
      text-decoration: none;
    }
    .logo:hover {
      color: #e0e0e0; /* Maintain white color on hover */
    }

    /* Additional styles for the header and improved responsiveness */
    .dark-header {
      display: flex;
      align-items: center;
      justify-content: center; /* Center the logo */
      padding: 15px 30px;
      position: relative;
    }
    
    @media (max-width: 480px) {
      .dark-header {
        padding: 12px 15px;
      }
      
      .dark-header h1 {
        font-size: 1.3rem;
      }
      
      .cart-button {
        top: 20px;
        right: 15px;
      }
    }
    
    @media (max-width: 360px) {
      .dark-header h1 {
        font-size: 1.1rem;
      }
    }

    /* Additional product showcase responsive styles */
    @media (max-width: 768px) {
      .product-main {
        margin-top: 60px;
      }
      
      .product-showcase {
        padding: 1rem;
      }
      
      .carousel-images {
        height: 300px;
      }
      
      .carousel-thumbnails {
        gap: 8px;
        margin-top: 12px;
      }
      
      .thumb {
        width: 40px;
        height: 40px;
      }
      
      .product-info h2 {
        font-size: 1.6rem;
      }
      
      .product-price {
        font-size: 1.1rem;
      }
    }
    
    @media (max-width: 480px) {
      .product-main {
        margin-top: 50px;
      }
      
      .carousel-images {
        height: 250px;
      }
      
      .carousel-btn {
        width: 30px;
        height: 30px;
        font-size: 0.8rem;
      }
      
      .thumb {
        width: 36px;
        height: 36px;
      }
      
      .product-info h2 {
        font-size: 1.4rem;
      }
      
      .add-to-cart {
        padding: 0.6rem 2rem;
        font-size: 1rem;
      }
    }
    
    @media (max-width: 360px) {
      .product-main {
        margin-top: 40px;
      }
      
      .carousel-images {
        height: 220px;
      }
      
      .carousel-thumbnails {
        gap: 6px;
      }
      
      .thumb {
        width: 32px;
        height: 32px;
      }
      
      .carousel-btn {
        width: 28px;
        height: 28px;
      }
      
      .product-info h2 {
        font-size: 1.2rem;
      }
      
      .product-price {
        font-size: 1rem;
      }
      
      .add-to-cart {
        padding: 0.5rem 1.5rem;
        font-size: 0.9rem;
      }
    }

    @media (max-width: 480px) {
      .cart-drawer {
        width: 100%;
      }
      
      .cart-item__title {
        font-size: 13px;
      }
      
      .cart-item__variant {
        font-size: 11px;
      }
      
      .recommendation-item__title {
        font-size: 11px;
      }
      
      /* Make touch targets larger on mobile */
      .quantity-btn {
        min-width: 36px;
        min-height: 36px;
      }
      
      .cart-close-btn {
        min-width: 30px;
        min-height: 30px;
      }
    }
    
    @media (max-width: 360px) {
      .recommendation-items {
        grid-template-columns: 1fr;
        gap: 10px;
      }
      
      .cart-item__image {
        width: 70px;
        height: 70px;
      }
      
      .cart-header h2 {
        font-size: 14px;
      }
    }
  </style>
</head>
<body class="dark-bg">
  <header class="dark-header">
    <h1><a href="index.html" class="logo">JJ</a></h1>
    <nav></nav>
    
    <!-- Cart Button -->
    <button id="cart-toggle" class="cart-button" aria-label="View your cart">
      <svg class="cart-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 22C8.55228 22 9 21.5523 9 21C9 20.4477 8.55228 20 8 20C7.44772 20 7 20.4477 7 21C7 21.5523 7.44772 22 8 22Z" stroke="currentColor" stroke-width="1.5"/>
        <path d="M19 22C19.5523 22 20 21.5523 20 21C20 20.4477 19.5523 20 19 20C18.4477 20 18 20.4477 18 21C18 21.5523 18.4477 22 19 22Z" stroke="currentColor" stroke-width="1.5"/>
        <path d="M2.5 4H5.5L7.5 17H19" stroke="currentColor" stroke-width="1.5"/>
        <path d="M7.5 7H20.5L18.5 15H8.5" stroke="currentColor" stroke-width="1.5"/>
      </svg>
      <span id="cart-count" class="cart-count" style="display: none;">0</span>
    </button>
  </header>

  <!-- Cart Widget -->
  <div id="cart-widget" class="cart-widget" aria-hidden="true">
    <div class="cart-overlay"></div>
    <div class="cart-drawer" role="dialog" aria-modal="true" aria-labelledby="cart-title">
      <div class="cart-header">
        <h2 id="cart-title">YOUR CART</h2>
        <button class="cart-close-btn" aria-label="Close cart">×</button>
      </div>
      
      <div class="cart-body">
        <!-- Shipping progress bar -->
        <div class="shipping-progress">
          <p>You are <span class="remaining-amount">$100.00</span> away from FREE SHIPPING</p>
          <div class="progress-bar"><div class="progress" style="width: 0%"></div></div>
        </div>
        
        <!-- Empty cart message -->
        <div class="cart-empty">
          <p>Your cart is empty!</p>
          <p>Add your favorite items to your cart.</p>
          <a href="index.html" class="shop-now-btn">Shop Now</a>
        </div>
        
        <!-- Cart items -->
        <div class="cart-items">
          <!-- Items will be inserted here dynamically -->
        </div>
        
        <!-- Recommendations section -->
        <div class="cart-recommendations">
          <h3>Customers who bought this item also bought</h3>
          <div class="recommendation-items">
            <div class="recommendation-item">
              <div class="recommendation-item__image">
                <img src="images/optimized/DSC05296_medium.jpg" alt="Minimalist Ring">
              </div>
              <div class="recommendation-item__info">
                <h4 class="recommendation-item__title">Minimalist Ring</h4>
                <div class="recommendation-item__price">$450.00</div>
                <a href="#" class="view-button">View Product</a>
              </div>
            </div>
            <div class="recommendation-item">
              <div class="recommendation-item__image">
                <img src="images/optimized/DSC05300_medium.jpg" alt="Modern Pendant">
              </div>
              <div class="recommendation-item__info">
                <h4 class="recommendation-item__title">Modern Pendant</h4>
                <div class="recommendation-item__price">$550.00</div>
                <a href="#" class="view-button">View Product</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="cart-footer">
        <div class="cart-subtotal">
          <span>Subtotal</span>
          <span class="cart-subtotal-amount">$0.00</span>
        </div>
        <p class="cart-disclaimer">Shipping & taxes calculated at checkout</p>
        <a href="checkout.html" class="checkout-button">Checkout</a>
        <button class="continue-shopping">Continue Shopping</button>
      </div>
    </div>
  </div>

  <main class="product-main">
    <section class="product-showcase">
      <div class="carousel">
        <button class="carousel-btn prev"><i class="fas fa-chevron-left"></i></button>
        <div class="carousel-images">
          <img src="images/optimized/DSC05292_large.jpg" alt="Product Image 1" class="carousel-img active" />
          <img src="images/optimized/DSC05296_large.jpg" alt="Product Image 2" class="carousel-img" loading="lazy" />
          <img src="images/optimized/DSC05300_large.jpg" alt="Product Image 3" class="carousel-img" loading="lazy" />
          <img src="images/optimized/DSC05308_large.jpg" alt="Product Image 4" class="carousel-img" loading="lazy" />
          <img src="images/optimized/IMG_1298_large.jpg" alt="Product Image 5" class="carousel-img" loading="lazy" />
        </div>
        <button class="carousel-btn next"><i class="fas fa-chevron-right"></i></button>
      </div>
      <div class="carousel-thumbnails">
        <img src="images/optimized/DSC05292_thumb.jpg" class="thumb active" loading="lazy" />
        <img src="images/optimized/DSC05296_thumb.jpg" class="thumb" loading="lazy" />
        <img src="images/optimized/DSC05300_thumb.jpg" class="thumb" loading="lazy" />
        <img src="images/optimized/DSC05308_thumb.jpg" class="thumb" loading="lazy" />
        <img src="images/optimized/IMG_1298_thumb.jpg" class="thumb" loading="lazy" />
      </div>
      <div class="product-info">
        <h2>Ancestral Necklace</h2>
        <p class="product-price">$800.00 USD</p>
        <form class="product-customization">
          <label for="size">Size:</label>
          <select id="size" name="size">
            <option>One Size</option>
          </select>
          <label for="Metal">Metal:</label>
          <select id="Metal" name="Metal">
            <option>Silver</option>
            <option>Gold</option>
          </select>
          <button type="submit" class="add-to-cart">Add to Cart</button>
        </form>
        <p class="product-material">Material: 925 Sterling Silver</p>
        <p class="product-desc">Custom Woman Link Design, Garnets Set in Silver</p>
      </div>
    </section>
    <section class="collection-carousel-section">
      <h3>EXPLORE THE COLLECTION</h3>
      
      <!-- Main Collection Carousel -->
      <div class="collection-carousel">
        <!-- Large Navigation Arrows -->
        <button class="collection-nav prev" aria-label="Previous product">
          <i class="fas fa-chevron-left"></i>
        </button>
        
        <!-- Carousel Track -->
        <div class="collection-track-container">
          <div class="collection-track">
            <!-- Product Slide 1 -->
            <div class="collection-slide">
              <div class="collection-card">
                <div class="collection-image">
                  <img src="images/optimized/DSC05296_large.jpg" alt="Minimalist Ring" loading="lazy" />
                </div>
                <div class="collection-content">
                  <h4>Minimalist Ring</h4>
                  <p class="product-price">$450.00 USD</p>
                  <div class="collection-options">
                    <div class="option-row">
                      <span class="option-label">Size:</span>
                      <span class="option-value">Small, Medium, Large</span>
                    </div>
                    <div class="option-row">
                      <span class="option-label">Metal:</span>
                      <span class="option-value">Silver, Gold</span>
                    </div>
                  </div>
                  <a href="#" class="collection-btn">View Details</a>
                </div>
              </div>
            </div>
            
            <!-- Product Slide 2 -->
            <div class="collection-slide">
              <div class="collection-card">
                <div class="collection-image">
                  <img src="images/optimized/DSC05300_large.jpg" alt="Modern Pendant" loading="lazy" />
                </div>
                <div class="collection-content">
                  <h4>Modern Pendant</h4>
                  <p class="product-price">$550.00 USD</p>
                  <div class="collection-options">
                    <div class="option-row">
                      <span class="option-label">Size:</span>
                      <span class="option-value">Standard</span>
                    </div>
                    <div class="option-row">
                      <span class="option-label">Chain:</span>
                      <span class="option-value">16", 18", 24"</span>
                    </div>
                  </div>
                  <a href="#" class="collection-btn">View Details</a>
                </div>
              </div>
            </div>
            
            <!-- Product Slide 3 -->
            <div class="collection-slide">
              <div class="collection-card">
                <div class="collection-image">
                  <img src="images/optimized/DSC05308_large.jpg" alt="Statement Bracelet" loading="lazy" />
                </div>
                <div class="collection-content">
                  <h4>Statement Bracelet</h4>
                  <p class="product-price">$650.00 USD</p>
                  <div class="collection-options">
                    <div class="option-row">
                      <span class="option-label">Size:</span>
                      <span class="option-value">Small, Medium, Large</span>
                    </div>
                    <div class="option-row">
                      <span class="option-label">Finish:</span>
                      <span class="option-value">Polished, Brushed</span>
                    </div>
                  </div>
                  <a href="#" class="collection-btn">View Details</a>
                </div>
              </div>
            </div>
            
            <!-- Product Slide 4 -->
            <div class="collection-slide">
              <div class="collection-card">
                <div class="collection-image">
                  <img src="images/optimized/IMG_1298_large.jpg" alt="Artisan Earrings" loading="lazy" />
                </div>
                <div class="collection-content">
                  <h4>Artisan Earrings</h4>
                  <p class="product-price">$350.00 USD</p>
                  <div class="collection-options">
                    <div class="option-row">
                      <span class="option-label">Style:</span>
                      <span class="option-value">Stud, Drop</span>
                    </div>
                    <div class="option-row">
                      <span class="option-label">Metal:</span>
                      <span class="option-value">Silver, Gold</span>
                    </div>
                  </div>
                  <a href="#" class="collection-btn">View Details</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Large Navigation Arrows -->
        <button class="collection-nav next" aria-label="Next product">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
      
      <!-- Pagination Indicators -->
      <div class="collection-pagination">
        <span class="pagination-dot active" data-index="0" aria-label="Go to slide 1"></span>
        <span class="pagination-dot" data-index="1" aria-label="Go to slide 2"></span>
        <span class="pagination-dot" data-index="2" aria-label="Go to slide 3"></span>
        <span class="pagination-dot" data-index="3" aria-label="Go to slide 4"></span>
      </div>
    </section>
  </main>

  <footer class="dark-footer">
    <p>© 2025 Justo Jewelry. All rights reserved.</p>
  </footer>

  <script>
    // Product carousel functionality
    const images = document.querySelectorAll('.carousel-img');
    const thumbs = document.querySelectorAll('.thumb');
    let current = 0;
    
    function showImage(idx) {
      images.forEach((img, i) => img.classList.toggle('active', i === idx));
      thumbs.forEach((thumb, i) => thumb.classList.toggle('active', i === idx));
      current = idx;
    }
    
    document.querySelector('.carousel-btn.next').onclick = () => showImage((current + 1) % images.length);
    document.querySelector('.carousel-btn.prev').onclick = () => showImage((current - 1 + images.length) % images.length);
    thumbs.forEach((thumb, i) => thumb.onclick = () => showImage(i));
    
    // Related products carousel functionality
    const relatedSlides = document.querySelectorAll('.related-product-slide');
    const indicators = document.querySelectorAll('.indicator');
    let currentRelated = 0;
    
    function showRelatedProduct(idx) {
      relatedSlides.forEach((slide, i) => slide.classList.toggle('active', i === idx));
      indicators.forEach((indicator, i) => indicator.classList.toggle('active', i === idx));
      currentRelated = idx;
    }
    
    // Get the related products carousel buttons
    const relatedBtnNext = document.querySelector('.related-carousel .carousel-btn.next');
    const relatedBtnPrev = document.querySelector('.related-carousel .carousel-btn.prev');
    
    if (relatedBtnNext) {
      relatedBtnNext.onclick = () => showRelatedProduct((currentRelated + 1) % relatedSlides.length);
    }
    
    if (relatedBtnPrev) {
      relatedBtnPrev.onclick = () => showRelatedProduct((currentRelated - 1 + relatedSlides.length) % relatedSlides.length);
    }
    
    // Add click handlers to indicators
    indicators.forEach((indicator, i) => {
      indicator.onclick = () => showRelatedProduct(i);
    });
    
    // Add keyboard navigation for both carousels
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') {
        // For main product carousel
        if (document.activeElement === document.body || document.activeElement.closest('.carousel')) {
          showImage((current + 1) % images.length);
        }
        // For related products carousel
        else if (document.activeElement.closest('.related-carousel')) {
          showRelatedProduct((currentRelated + 1) % relatedSlides.length);
        }
      }
      if (e.key === 'ArrowLeft') {
        // For main product carousel
        if (document.activeElement === document.body || document.activeElement.closest('.carousel')) {
          showImage((current - 1 + images.length) % images.length);
        }
        // For related products carousel
        else if (document.activeElement.closest('.related-carousel')) {
          showRelatedProduct((currentRelated - 1 + relatedSlides.length) % relatedSlides.length);
        }
      }
    });
    
    // Add touch swipe support for related products
    const relatedCarousel = document.querySelector('.related-carousel .carousel-images');
    if (relatedCarousel) {
      let touchStartX = 0;
      let touchEndX = 0;
      
      relatedCarousel.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
      });
      
      relatedCarousel.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleRelatedSwipe();
      });
      
      function handleRelatedSwipe() {
        const swipeThreshold = 50;
        if (touchEndX < touchStartX - swipeThreshold) {
          // Swipe left, show next product
          showRelatedProduct((currentRelated + 1) % relatedSlides.length);
        }
        if (touchEndX > touchStartX + swipeThreshold) {
          // Swipe right, show previous product
          showRelatedProduct((currentRelated - 1 + relatedSlides.length) % relatedSlides.length);
        }
      }
    }
    
    // Collection Carousel Functionality
    class CollectionCarousel {
      constructor() {
        // DOM Elements
        this.track = document.querySelector('.collection-track');
        this.slides = Array.from(document.querySelectorAll('.collection-slide'));
        this.nextButton = document.querySelector('.collection-nav.next');
        this.prevButton = document.querySelector('.collection-nav.prev');
        this.dots = Array.from(document.querySelectorAll('.pagination-dot'));
        this.slideWidth = 0;
        this.currentIndex = 0;
        this.slidesPerView = 0;
        this.maxIndex = 0;
        
        // Event bindings
        this.init();
        this.bindEvents();
        
        // Initial setup
        this.setSlidesPerView();
        this.goToSlide(0);
        window.addEventListener('resize', this.handleResize.bind(this));
      }
      
      init() {
        // Add initial position and transition to slides
        this.slides.forEach((slide, index) => {
          slide.dataset.index = index;
          slide.setAttribute('aria-hidden', 'true');
          // Set initial attributes
          if (index === 0) {
            slide.setAttribute('aria-hidden', 'false');
          }
        });
      }
      
      setSlidesPerView() {
        // Determine number of slides per view based on screen width
        if (window.innerWidth < 480) {
          this.slidesPerView = 1;
        } else if (window.innerWidth < 992) {
          this.slidesPerView = 1.2;
        } else if (window.innerWidth < 1200) {
          this.slidesPerView = 1.2;
        } else {
          this.slidesPerView = 1.5;
        }
        
        // Calculate sizes
        const slideWidth = this.track.clientWidth / this.slidesPerView;
        this.slideWidth = slideWidth;
        this.slides.forEach(slide => {
          slide.style.minWidth = `${slideWidth}px`;
        });
        
        // Set max index (last viewable slide)
        this.maxIndex = Math.max(0, this.slides.length - 1);
      }
      
      handleResize() {
        this.setSlidesPerView();
        this.goToSlide(this.currentIndex);
      }
      
      bindEvents() {
        // Button navigation
        if (this.nextButton) {
          this.nextButton.addEventListener('click', this.next.bind(this));
        }
        
        if (this.prevButton) {
          this.prevButton.addEventListener('click', this.prev.bind(this));
        }
        
        // Pagination dots
        this.dots.forEach((dot, index) => {
          dot.addEventListener('click', () => this.goToSlide(index));
        });
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
          // Only handle keys if focus is on or within the carousel
          const focusWithinCarousel = document.activeElement === document.body || 
                                      document.activeElement.closest('.collection-carousel-section');
          
          if (focusWithinCarousel) {
            if (e.key === 'ArrowRight') {
              this.next();
            } else if (e.key === 'ArrowLeft') {
              this.prev();
            }
          }
        });
        
        // Touch gestures
        let touchStartX = 0;
        let touchEndX = 0;
        const swipeThreshold = 50;
        
        this.track.addEventListener('touchstart', (e) => {
          touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });
        
        this.track.addEventListener('touchend', (e) => {
          touchEndX = e.changedTouches[0].screenX;
          
          // Calculate swipe distance
          const swipeDistance = touchEndX - touchStartX;
          
          if (Math.abs(swipeDistance) > swipeThreshold) {
            if (swipeDistance < 0) {
              // Swipe left, go to next
              this.next();
            } else {
              // Swipe right, go to previous
              this.prev();
            }
          }
        }, { passive: true });
      }
      
      next() {
        if (this.currentIndex < this.maxIndex) {
          this.goToSlide(this.currentIndex + 1);
        } else {
          // Optional: loop back to start
          this.goToSlide(0);
        }
      }
      
      prev() {
        if (this.currentIndex > 0) {
          this.goToSlide(this.currentIndex - 1);
        } else {
          // Optional: loop to end
          this.goToSlide(this.maxIndex);
        }
      }
      
      goToSlide(index) {
        // Constrain index within bounds
        const targetIndex = Math.max(0, Math.min(index, this.maxIndex));
        this.currentIndex = targetIndex;
        
        // Calculate position
        const position = -targetIndex * this.slideWidth;
        this.track.style.transform = `translateX(${position}px)`;
        
        // Update active states
        this.slides.forEach((slide, idx) => {
          const isActive = idx === targetIndex;
          slide.setAttribute('aria-hidden', isActive ? 'false' : 'true');
        });
        
        // Update pagination
        this.dots.forEach((dot, idx) => {
          dot.classList.toggle('active', idx === targetIndex);
          dot.setAttribute('aria-current', idx === targetIndex ? 'true' : 'false');
        });
        
        // Optionally update buttons (disable at ends if not looping)
        /*
        if (this.prevButton) {
          this.prevButton.disabled = targetIndex === 0;
        }
        if (this.nextButton) {
          this.nextButton.disabled = targetIndex === this.maxIndex;
        }
        */
      }
    }
    
    // Initialize the collection carousel when the DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      new CollectionCarousel();
    });
    
    // If the DOM is already loaded, initialize immediately
    if (document.readyState !== 'loading') {
      new CollectionCarousel();
    }

    // CART FUNCTIONALITY
    class ShoppingCart {
      constructor() {
        this.cart = [];
        this.shippingThreshold = 100; // $100 for free shipping
        
        // DOM elements
        this.cartToggle = document.getElementById('cart-toggle');
        this.cartWidget = document.getElementById('cart-widget');
        this.cartCount = document.getElementById('cart-count');
        this.cartCloseBtn = document.querySelector('.cart-close-btn');
        this.cartOverlay = document.querySelector('.cart-overlay');
        this.continueShoppingBtn = document.querySelector('.continue-shopping');
        this.cartItemsContainer = document.querySelector('.cart-items');
        this.emptyCartMessage = document.querySelector('.cart-empty');
        this.recommendationsSection = document.querySelector('.cart-recommendations');
        this.subtotalAmount = document.querySelector('.cart-subtotal-amount');
        this.shippingProgress = document.querySelector('.shipping-progress');
        this.remainingAmount = document.querySelector('.remaining-amount');
        this.progressBar = document.querySelector('.progress');
        this.addToCartBtn = document.querySelector('.add-to-cart');
        
        this.init();
      }
      
      init() {
        // Load cart from localStorage
        this.loadCart();
        
        // Update cart count
        this.updateCartCount();
        
        // Add event listeners
        this.addEventListeners();
        
        // Fix for iOS Safari 100vh issue
        this.fixIOSHeight();
        
        // Add event listener for viewport resize
        window.addEventListener('resize', () => this.fixIOSHeight());
      }
      
      fixIOSHeight() {
        // Fix for the iOS Safari viewport height issue
        if (this.cartWidget) {
          const vh = window.innerHeight * 0.01;
          this.cartWidget.style.height = `${window.innerHeight}px`;
          
          if (this.cartDrawer) {
            this.cartDrawer.style.height = `${window.innerHeight}px`;
          }
        }
      }
      
      loadCart() {
        const savedCart = localStorage.getItem('justo_cart');
        if (savedCart) {
          try {
            this.cart = JSON.parse(savedCart);
          } catch (e) {
            console.error('Error parsing cart from localStorage:', e);
            this.cart = [];
          }
        }
      }
      
      saveCart() {
        localStorage.setItem('justo_cart', JSON.stringify(this.cart));
      }
      
      addEventListeners() {
        // Cart toggle
        if (this.cartToggle) {
          this.cartToggle.addEventListener('click', () => this.openCart());
        }
        
        // Close cart
        if (this.cartCloseBtn) {
          this.cartCloseBtn.addEventListener('click', () => this.closeCart());
        }
        
        if (this.cartOverlay) {
          this.cartOverlay.addEventListener('click', () => this.closeCart());
          
          // Add touch event for better mobile responsiveness
          this.cartOverlay.addEventListener('touchend', (e) => {
            e.preventDefault();
            this.closeCart();
          }, { passive: false });
        }
        
        if (this.continueShoppingBtn) {
          this.continueShoppingBtn.addEventListener('click', () => this.closeCart());
        }
        
        // Add to cart button
        if (this.addToCartBtn) {
          this.addToCartBtn.addEventListener('click', (e) => {
            e.preventDefault();
            this.addToCart();
          });
        }
        
        // Cart item quantity changes and removal
        if (this.cartItemsContainer) {
          this.cartItemsContainer.addEventListener('click', (e) => {
            // Decrease quantity
            if (e.target.classList.contains('decrease')) {
              const item = e.target.closest('.cart-item');
              if (item) {
                const itemId = item.dataset.id;
                this.updateQuantity(itemId, -1);
              }
            }
            
            // Increase quantity
            if (e.target.classList.contains('increase')) {
              const item = e.target.closest('.cart-item');
              if (item) {
                const itemId = item.dataset.id;
                this.updateQuantity(itemId, 1);
              }
            }
            
            // Remove item
            if (e.target.closest('.cart-item__remove')) {
              const item = e.target.closest('.cart-item');
              if (item) {
                const itemId = item.dataset.id;
                this.removeItem(itemId);
              }
            }
          });
        }
      }
      
      openCart() {
        if (this.cartWidget) {
          this.cartWidget.classList.add('is-visible');
          this.cartWidget.setAttribute('aria-hidden', 'false');
          document.body.style.overflow = 'hidden';
          this.renderCart();
          
          // Handle iOS height fix when opening
          this.fixIOSHeight();
          
          // Ensure cart drawer is properly referenced
          this.cartDrawer = this.cartWidget.querySelector('.cart-drawer');
          
          // Add touchstart listener to prevent scrolling issues
          document.addEventListener('touchmove', this.preventScroll, { passive: false });
        }
      }
      
      preventScroll(e) {
        // Allow scrolling within the cart body only
        if (!e.target.closest('.cart-body')) {
          e.preventDefault();
        }
      }
      
      closeCart() {
        if (this.cartWidget) {
          this.cartWidget.classList.remove('is-visible');
          this.cartWidget.setAttribute('aria-hidden', 'true');
          document.body.style.overflow = '';
          
          // Remove touchstart listener
          document.removeEventListener('touchmove', this.preventScroll);
        }
      }
      
      addToCart() {
        // Get product information from the page
        const productTitle = document.querySelector('.product-info h2').textContent;
        const productPrice = document.querySelector('.product-price').textContent.trim();
        const productImage = document.querySelector('.carousel-img.active').src;
        const productId = Date.now().toString(); // Use timestamp as ID for simplicity
        
        // Get selected options if available
        const sizeSelect = document.getElementById('size');
        const metalSelect = document.getElementById('Metal');
        
        const options = {};
        if (sizeSelect) options.size = sizeSelect.value;
        if (metalSelect) options.metal = metalSelect.value;
        
        // Create item object
        const newItem = {
          id: productId,
          title: productTitle,
          price: productPrice,
          image: productImage,
          options: options,
          quantity: 1
        };
        
        // Check if product with same options already exists
        const existingItemIndex = this.cart.findIndex(item => {
          if (item.title !== newItem.title) return false;
          
          // Check if options match
          const optionsMatch = Object.keys(newItem.options).every(key => 
            item.options[key] === newItem.options[key]
          );
          
          return optionsMatch;
        });
        
        if (existingItemIndex !== -1) {
          // Increase quantity of existing item
          this.cart[existingItemIndex].quantity += 1;
        } else {
          // Add new item to cart
          this.cart.push(newItem);
        }
        
        // Save cart and update UI
        this.saveCart();
        this.updateCartCount();
        this.openCart();
      }
      
      updateQuantity(itemId, change) {
        const itemIndex = this.cart.findIndex(item => item.id === itemId);
        
        if (itemIndex !== -1) {
          this.cart[itemIndex].quantity += change;
          
          // Remove item if quantity is less than 1
          if (this.cart[itemIndex].quantity < 1) {
            this.removeItem(itemId);
            return;
          }
          
          this.saveCart();
          this.renderCart();
          this.updateCartCount();
        }
      }
      
      removeItem(itemId) {
        this.cart = this.cart.filter(item => item.id !== itemId);
        this.saveCart();
        this.renderCart();
        this.updateCartCount();
      }
      
      updateCartCount() {
        const totalItems = this.cart.reduce((total, item) => total + item.quantity, 0);
        
        if (this.cartCount) {
          if (totalItems > 0) {
            this.cartCount.textContent = totalItems;
            this.cartCount.style.display = 'flex';
          } else {
            this.cartCount.style.display = 'none';
          }
        }
      }
      
      renderCart() {
        // Check if cart is empty
        if (this.cart.length === 0) {
          if (this.emptyCartMessage) this.emptyCartMessage.style.display = 'block';
          if (this.cartItemsContainer) this.cartItemsContainer.style.display = 'none';
          if (this.recommendationsSection) this.recommendationsSection.style.display = 'none';
          return;
        }
        
        // Hide empty cart message and show items
        if (this.emptyCartMessage) this.emptyCartMessage.style.display = 'none';
        if (this.cartItemsContainer) this.cartItemsContainer.style.display = 'block';
        if (this.recommendationsSection) this.recommendationsSection.style.display = 'block';
        
        // Clear current items
        if (this.cartItemsContainer) {
          this.cartItemsContainer.innerHTML = '';
          
          // Calculate subtotal and render each item
          let subtotal = 0;
          
          this.cart.forEach(item => {
            // Extract numeric price
            const priceValue = parseFloat(item.price.replace(/[^0-9.]/g, ''));
            const itemTotal = priceValue * item.quantity;
            subtotal += itemTotal;
            
            // Create and append item element
            const itemElement = this.createItemElement(item, itemTotal);
            this.cartItemsContainer.appendChild(itemElement);
          });
          
          // Update subtotal display
          if (this.subtotalAmount) {
            this.subtotalAmount.textContent = `$${subtotal.toFixed(2)}`;
          }
          
          // Update shipping progress bar
          this.updateShippingProgress(subtotal);
        }
      }
      
      createItemElement(item, itemTotal) {
        const itemElement = document.createElement('div');
        itemElement.className = 'cart-item';
        itemElement.dataset.id = item.id;
        
        // Format options text
        const optionsText = Object.entries(item.options)
          .map(([key, value]) => `${key}: ${value}`)
          .join(', ');
        
        itemElement.innerHTML = `
          <div class="cart-item__image">
            <img src="${item.image}" alt="${item.title}">
          </div>
          <div class="cart-item__details">
            <h3 class="cart-item__title">${item.title}</h3>
            ${optionsText ? `<p class="cart-item__variant">${optionsText}</p>` : ''}
            <div class="cart-item__price-quantity">
              <div class="quantity-selector">
                <button class="quantity-btn decrease" aria-label="Decrease quantity">−</button>
                <input type="number" class="quantity-input" min="1" value="${item.quantity}" aria-label="Quantity" readonly>
                <button class="quantity-btn increase" aria-label="Increase quantity">+</button>
              </div>
              <div class="cart-item__price">$${itemTotal.toFixed(2)}</div>
            </div>
          </div>
          <button class="cart-item__remove" aria-label="Remove ${item.title} from cart">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 4L4 12" stroke="white" stroke-width="1.5"></path>
              <path d="M4 4L12 12" stroke="white" stroke-width="1.5"></path>
            </svg>
          </button>
        `;
        
        return itemElement;
      }
      
      updateShippingProgress(subtotal) {
        if (!this.shippingProgress || !this.remainingAmount || !this.progressBar) return;
        
        const remaining = Math.max(0, this.shippingThreshold - subtotal);
        const progressPercentage = Math.min(100, (subtotal / this.shippingThreshold) * 100);
        
        if (remaining > 0) {
          this.remainingAmount.textContent = `$${remaining.toFixed(2)}`;
          this.progressBar.style.width = `${progressPercentage}%`;
          
          const progressContent = this.shippingProgress.querySelector('p');
          if (progressContent) {
            progressContent.innerHTML = `You are <span class="remaining-amount">$${remaining.toFixed(2)}</span> away from FREE SHIPPING`;
          }
        } else {
          const progressContent = this.shippingProgress.querySelector('p');
          if (progressContent) {
            progressContent.innerHTML = 'You qualify for <strong>FREE SHIPPING</strong>!';
          }
          this.progressBar.style.width = '100%';
        }
      }
    }
    
    // Initialize cart system
    document.addEventListener('DOMContentLoaded', () => {
      const cart = new ShoppingCart();
    });
    
    // If DOM is already loaded, initialize immediately
    if (document.readyState !== 'loading') {
      const cart = new ShoppingCart();
    }

    // Update price based on metal selection
    const metalSelect = document.getElementById('Metal');
    metalSelect.addEventListener('change', (e) => {
      const priceElement = document.querySelector('.product-price');
      if (e.target.value === 'Gold') {
        priceElement.textContent = '$10,000.00 USD';
      } else {
        priceElement.textContent = '$800.00 USD'; // Default price for Silver
      }
    });
  </script>
</body>
</html>
