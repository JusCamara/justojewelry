<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Justo Jewelry</title>
  <!-- Preload critical assets -->
  <link rel="preload" href="images/optimized/DSC05292_large.jpg" as="image">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/CustomEase.min.js"></script>
  <style>
    /* Hamburger Menu Styles */
    #burger-menu {
      cursor: pointer;
      height: 27px;
      width: 27px;
      margin: 30px;
      overflow: visible;
      position: relative;
      z-index: 1002;
    }

    #burger-menu span,
    #burger-menu span:before,
    #burger-menu span:after {
      background: #fff;
      display: block;
      height: 2px;
      opacity: 1;
      position: absolute;
      transition: 0.3s ease-in-out;
    }

    #burger-menu span:before,
    #burger-menu span:after {
      content: '';
    }

    #burger-menu span:before {
      left: 0px;
      top: -10px;
      width: 27px;
    }

    #burger-menu span {
      right: 0px;
      top: 13px;
      width: 27px;
    }

    #burger-menu span:after {
      left: 0px;
      top: 10px;
      width: 27px;
    }

    #burger-menu.close span:before {
      top: 0px;
      transform: rotate(90deg);
      width: 27px;
    }

    #burger-menu.close span {
      transform: rotate(-45deg);
      top: 13px;
      width: 27px;
    }

    #burger-menu.close span:after {
      top: 0px;
      left: 0;
      transform: rotate(90deg);
      opacity: 0;
      width: 0;
    }

    #menu {
      z-index: 1001;
      min-width: 100%;
      min-height: 100%;
      position: fixed;
      top: 0;
      height: 0;
      visibility: hidden;
      opacity: 0;
      text-align: center;
      padding-top: 20px;
      transition: all 0.3s ease-in-out;
    }

    #menu.overlay {
      visibility: visible;
      opacity: 1;
      padding-top: 100px;
      background: rgba(0, 0, 0, 0.85);
    }

    #menu ul {
      padding: 0;
    }

    #menu li {
      list-style: none;
    }

    #menu a {
      color: #fff;
      display: block;
      font-size: 32px;
      margin-bottom: 30px;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <!-- Header Navigation with Hamburger Menu -->
  <header class="header">
    <div id="burger-menu">
      <span></span>
    </div>
    
    <div id="menu">
      <ul>
        <li><a href="#">RINGS</a></li>
        <li><a href="product.html">NECKLACES</a></li>
        <li><a href="#">BRACELETS</a></li>
        <li><a href="#">NAILS</a></li>
      </ul>
    </div>
    
    <div class="logo-left">JJ</div>
    <a href="mailto:justo243@gmail.com" class="nav-right">CONTACT US</a>
  </header>

  <!-- Preloader with Image Animation -->
<div class="preloader">
  <div class="preloader-content">
    <div class="image-container">
      <div id="image-0" class="image-wrapper">
        <img src="images/optimized/DSC05292_large.jpg" alt="Jewelry 1">
      </div>
      <div id="image-25" class="image-wrapper">
        <img src="images/optimized/DSC05296_large.jpg" alt="Jewelry 2" loading="lazy">
      </div>
      <div id="image-50" class="image-wrapper">
        <img src="images/optimized/DSC05300_large.jpg" alt="Jewelry 3" loading="lazy">
      </div>
      <div id="image-75" class="image-wrapper">
        <img src="images/optimized/DSC05308_large.jpg" alt="Jewelry 4" loading="lazy">
      </div>
      <div id="image-100" class="image-wrapper">
      <img src="images/optimized/IMG_1298_large.jpg" alt="Jewelry 5" loading="lazy">
      </div>
    </div>
    <div class="preloader-percentage">0</div>
  </div>
</div>

  <!-- Preloader Text Lines -->
  <div class="text-container">
    <div class="text-line">Timeless elegance.</div>
    <div class="text-line">Handcrafted beauty.</div>
    <div class="text-line">Artisanal quality.</div>
    <div class="text-line">Precious moments.</div>
    <div class="text-line">Ethical sourcing.</div>
    <div class="text-line">Unique designs.</div>
  </div>

  <!-- Final Text Lines -->
  <div class="text-container-final">
    <div class="text-line-final">Celebrate Moments.</div>
    <div class="text-line-final">Express Yourself.</div>
    <div class="text-line-final">Handcrafted Elegance.</div>
    <div class="text-line-final">Luxury For All.</div>
  </div>

  <!-- Hero Text - Changed from three lines to two lines -->
  <div class="big-title">
    <div class="title-line"><span>JUSTO</span></div>
    <div class="title-line"><span>JEWELRY</span></div>
  </div>

  <!-- Restart Button -->
  <button class="restart-btn">
    <div class="dot-container">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="center-dot"></div>
    </div>
  </button>

  <div class="gray-header-bar">
    <!-- yellow squiggle SVG or canvas here -->
  </div>

  <script>
    // Register GSAP plugins
    gsap.registerPlugin(CustomEase);

    // Create custom easing functions
    CustomEase.create("customEase", "0.6, 0.01, 0.05, 1");
    CustomEase.create("gentle", "0.38, 0.005, 0.215, 1");

    function initAnimation() {
      // Setup initial states
      gsap.set(".restart-btn", { opacity: 0, pointerEvents: "none" });
      gsap.set(".header", { opacity: 1 });
      gsap.set(".logo-left, .nav-right", { opacity: 0, y: 10 });
      gsap.set(".text-container-final", { opacity: 0 });
      gsap.set(".text-line-final", { opacity: 0 });
      gsap.set(".big-title", { opacity: 0 });
      gsap.set(".big-title .title-line span", { y: "100%", opacity: 0 });
      gsap.set(".image-wrapper", { visibility: "hidden", clipPath: "inset(100% 0 0 0)" });
      gsap.set("#image-0", { visibility: "visible" });
      gsap.set(".image-wrapper img", { scale: 1.2 });

      const timeline = gsap.timeline();
      const percentages = [0, 25, 50, 75, 99];
      const wrappers = [
        document.getElementById("image-0"),
        document.getElementById("image-25"),
        document.getElementById("image-50"),
        document.getElementById("image-75"),
        document.getElementById("image-100")
      ];
      const percentageElement = document.querySelector(".preloader-percentage");

      // Animate text lines in
      timeline.to(".text-line", {
        opacity: 1,
        duration: 0.15,
        stagger: 0.075,
        ease: "gentle"
      }, 0.5);

      // Animate text color change
      timeline.to(".text-line", {
        color: "#fff",
        duration: 0.15,
        stagger: 0.075
      }, "+=0.5");

      // Animate image transitions
      percentages.forEach((percentage, index) => {
        timeline.add(`step${percentage}`, index * 1.5);
        
        // Show current image
        timeline.set(wrappers[index], { visibility: "visible" }, `step${percentage}`);
        timeline.to(wrappers[index], {
          clipPath: "inset(0% 0 0 0)",
          duration: 0.65,
          ease: "customEase"
        }, `step${percentage}`);
        
        // Update percentage counter
        timeline.to(percentageElement, {
          innerText: `${percentage}`,
          duration: 0.65,
          snap: { innerText: 1 }
        }, `step${percentage}`);
        
        // Hide previous image
        if (index > 0) {
          timeline.to(wrappers[index - 1], {
            clipPath: "inset(100% 0 0 0)",
            duration: 0.5,
            ease: "customEase",
            onComplete: function() {
              gsap.set(wrappers[index - 1], { visibility: "hidden" });
            }
          }, `step${percentage}+=0.15`);
        }
      });

      // Fade out preloader text
      timeline.to(".text-line", {
        opacity: 0,
        duration: 0.15,
        stagger: 0.075
      }, "step99+=1");

      // Final expansion phase
      timeline.add("expandFinal", ">");
      
      // Expand image to fullscreen
      timeline.to(".image-container", {
        width: "100vw",
        height: "100vh",
        duration: 1.2,
        ease: "gentle"
      }, "expandFinal+=0.5");
      
      // Scale image
      timeline.to("#image-100 img", {
        scale: 1.0,
        duration: 1.2,
        ease: "gentle"
      }, "expandFinal+=0.5");
      
      // Fade out percentage
      timeline.to(".preloader-percentage", {
        opacity: 0,
        duration: 0.5
      }, "expandFinal+=0.5");
      
      // Make background semi-transparent - Moved this earlier in the timeline
      timeline.to(".preloader", {
        backgroundColor: "rgba(0,0,0,0.5)",
        duration: 0.5
      }, "expandFinal+=0.7");
      
      // Show header elements
      timeline.to(".logo-left", {
        opacity: 1,
        y: 0,
        duration: 0.5
      }, "expandFinal+=1.2");
      
      timeline.to("#burger-menu", {
        opacity: 1,
        y: 0,
        duration: 0.5
      }, "expandFinal+=1.3");
      
      timeline.to(".nav-right", {
        opacity: 1,
        y: 0,
        duration: 0.5
      }, "expandFinal+=1.7");
      
      // Show final text content
      timeline.to(".text-container-final", {
        opacity: 1,
        duration: 0.1
      }, "expandFinal+=1.5");
      
      timeline.to(".text-line-final", {
        opacity: 1,
        duration: 0.15,
        stagger: 0.075
      }, "expandFinal+=1.6");
      
      // Show restart button
      timeline.to(".restart-btn", {
        opacity: 1,
        pointerEvents: "auto",
        duration: 0.3
      }, "expandFinal+=1.2");
      
      // Animate title appearance
      timeline.to(".big-title", { 
        opacity: 1, 
        duration: 0.1 
      }, "expandFinal+=1.8");
      
      timeline.to(".big-title .title-line span", {
        y: "0%",
        opacity: 1,
        duration: 0.8,
        stagger: 0.2,
        ease: "power4.out"
      }, "expandFinal+=1.8");

      timeline.to(".gray-header-bar", {
        opacity: 1,
        pointerEvents: "auto",
        duration: 0.5
      }, "expandFinal+=2.0");

      return timeline;
    }

    // Initialize animation on page load
    window.addEventListener("DOMContentLoaded", () => {
      setTimeout(initAnimation, 100);

      // Setup restart button hover animations
      const restartBtn = document.querySelector(".restart-btn");
      const additionalDots = document.querySelectorAll(".dot:nth-child(n+5)");
      const centerDot = document.querySelector(".center-dot");

      restartBtn.addEventListener("mouseenter", () => {
        gsap.to(additionalDots, {
          opacity: 1,
          duration: 0.3,
          stagger: 0.05
        });
        gsap.to(centerDot, {
          opacity: 1,
          scale: 1,
          duration: 0.4
        });
      });

      restartBtn.addEventListener("mouseleave", () => {
        gsap.to(additionalDots, {
          opacity: 0,
          duration: 0.3,
          stagger: 0.05
        });
        gsap.to(centerDot, {
          opacity: 0,
          scale: 0,
          duration: 0.4
        });
      });

      // Restart button functionality
      restartBtn.addEventListener("click", () => {
        gsap.killTweensOf("*");
        document.querySelector(".preloader").style.backgroundColor = "#000";
        
        // Reset elements to initial state
        gsap.set(".preloader", { display: "flex", opacity: 1 });
        gsap.set(".image-container", { width: "400px", height: "500px" });
        gsap.set(".preloader-percentage", { opacity: 1, innerText: "0" });
        gsap.set(".image-wrapper", { 
          clipPath: "inset(100% 0 0 0)", 
          visibility: "hidden"
        });
        gsap.set("#image-0", { visibility: "visible" });
        gsap.set(".image-wrapper img", { scale: 1.2 });
        gsap.set(".restart-btn", { opacity: 0, pointerEvents: "none" });
        gsap.set(".header", { opacity: 1 });
        gsap.set(".logo-left, .nav-right", { opacity: 0, y: 10 });
        gsap.set("#burger-menu", { opacity: 0, y: 10 });
        gsap.set(".big-title", { opacity: 0 });
        gsap.set(".big-title .title-line span", { y: "100%", opacity: 0 });
        gsap.set(".text-line", { opacity: 0, color: "#4f4f4f" });
        gsap.set(".text-line-final", { opacity: 0 });
        gsap.set(".text-container-final", { opacity: 0 });
        
        setTimeout(initAnimation, 100);
      });

      // Hamburger menu functionality
      const burgerMenu = document.getElementById('burger-menu');
      const overlay = document.getElementById('menu');

      burgerMenu.addEventListener('click', function() {
        this.classList.toggle("close");
        overlay.classList.toggle("overlay");
      });
    });
  </script>
</body>
</html>
